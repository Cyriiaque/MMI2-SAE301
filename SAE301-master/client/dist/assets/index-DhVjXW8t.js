(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();let f="../api",l=async function(r){let t={method:"GET"};try{var o=await fetch(f+r,t)}catch(e){return console.error("Echec de la requête : "+e),!1}return o.status!=200?(console.error("Erreur de requête : "+o.status),!1):await o.json()},a={},s=[{id:1,name:"Pain",category:2},{id:2,name:"Lait",category:1},{id:3,name:"Beurre",category:1},{id:4,name:"Farine",category:2}];a.fetch=async function(r){let t=await l("products/"+r);return t==!1?s.pop():[t]};a.fetchAll=async function(){let r=await l("products");return r==!1?s:r};let d=function(r,t){let o=r;for(let i in t)o=o.replace(new RegExp("{{"+i+"}}","g"),t[i]);return o};const m=await fetch("src/ui/product/template.html.inc"),p=await m.text();let y={render:function(r){let t="";for(let o of r)t+=d(p,o);return t}},u={};u.init=async function(){let r=await a.fetchAll(),t=y.render(r);document.querySelector("#main").innerHTML=t};u.init();
